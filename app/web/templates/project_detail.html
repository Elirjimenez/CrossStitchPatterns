{% extends "base.html" %}

{% block title %}{{ name }} â€“ Cross-Stitch Pattern Generator{% endblock %}

{% block content %}
<div class="py-10">

  <!-- Breadcrumb -->
  <nav class="text-sm text-gray-400 mb-6">
    <a href="/projects" class="hover:text-indigo-600 transition-colors">Projects</a>
    <span class="mx-2">/</span>
    <span class="text-gray-600">{{ name }}</span>
  </nav>

  <!-- Header -->
  <div class="flex items-start justify-between mb-8">
    <div>
      <h2 class="text-3xl font-bold text-gray-800 mb-2">{{ name }}</h2>
      <p class="text-xs text-gray-400 font-mono">{{ id }}</p>
    </div>
    <div>
      {% if status == "completed" %}
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">Completed</span>
      {% elif status == "in_progress" %}
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800">In Progress</span>
      {% elif status == "failed" %}
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-red-100 text-red-800">Failed</span>
      {% else %}
        <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-gray-100 text-gray-600">Created</span>
      {% endif %}
    </div>
  </div>

  <p class="text-sm text-gray-500 mb-10">Created on {{ created_at }}</p>

  <div class="grid grid-cols-1 gap-6 lg:grid-cols-3">

    <!-- A: Source Image -->
    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
      <h3 class="text-base font-semibold text-gray-700 mb-3">Source Image</h3>
      {% if source_image_ref %}
        <p class="text-sm text-green-700 mb-1">&#10003; Image uploaded</p>
        <p class="text-xs text-gray-400 font-mono break-all">{{ source_image_ref }}</p>
      {% else %}
        <p class="text-sm text-gray-400">No image uploaded yet.</p>
      {% endif %}
    </div>

    <!-- B: Actions -->
    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
      <h3 class="text-base font-semibold text-gray-700 mb-3">Actions</h3>
      <div class="flex flex-col gap-2">
        <button disabled
          class="w-full text-left px-4 py-2 rounded-lg border border-gray-200 text-sm text-gray-400 cursor-not-allowed">
          Upload Image <span class="text-xs">(coming soon)</span>
        </button>
        <button disabled
          class="w-full text-left px-4 py-2 rounded-lg border border-gray-200 text-sm text-gray-400 cursor-not-allowed">
          Generate Pattern <span class="text-xs">(coming soon)</span>
        </button>
        <button disabled
          class="w-full text-left px-4 py-2 rounded-lg border border-gray-200 text-sm text-gray-400 cursor-not-allowed">
          Export PDF <span class="text-xs">(coming soon)</span>
        </button>
      </div>
    </div>

    <!-- C: Pattern / Results -->
    <div class="bg-white border border-gray-200 rounded-xl p-6 shadow-sm">
      <h3 class="text-base font-semibold text-gray-700 mb-3">Pattern &amp; Results</h3>
      <div class="border-2 border-dashed border-gray-200 rounded-lg p-6 text-center text-gray-400 text-sm">
        Pattern results and PDF download will appear here once the pattern is generated.
      </div>
    </div>

  </div>

  <!-- Back link -->
  <div class="mt-10">
    <a href="/projects" class="text-sm text-indigo-600 hover:text-indigo-800 transition-colors">
      &larr; Back to Projects
    </a>
  </div>

</div>
{% endblock %}
