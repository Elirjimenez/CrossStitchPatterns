{% if error %}
<!-- Error state -->
<div class="border border-red-200 bg-red-50 rounded-xl p-10 text-center">
  <p class="text-red-600 font-medium mb-1">Could not load projects.</p>
  <p class="text-red-400 text-sm mb-5">The server may be unavailable. Please try again.</p>
  <button
    class="bg-red-600 text-white px-5 py-2 rounded-lg text-sm font-medium hover:bg-red-700 transition-colors"
    hx-get="/hx/projects"
    hx-target="#projects-list"
    hx-swap="innerHTML"
    hx-indicator="#projects-loading">
    Retry
  </button>
</div>

{% elif projects %}
<!-- Populated state -->
<div class="overflow-hidden rounded-xl border border-gray-200 shadow-sm">
  <table class="min-w-full divide-y divide-gray-200 text-sm">
    <thead class="bg-gray-50 text-gray-500 uppercase text-xs tracking-wide">
      <tr>
        <th class="px-5 py-3 text-left">Name</th>
        <th class="px-5 py-3 text-left">Status</th>
        <th class="px-5 py-3 text-left">Created</th>
        <th class="px-5 py-3 text-left"></th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-100">
      {% for project in projects %}
      <tr class="hover:bg-gray-50 transition-colors">
        <td class="px-5 py-4 font-medium text-gray-800">{{ project.name }}</td>
        <td class="px-5 py-4">
          {% if project.status == "completed" %}
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">Completed</span>
          {% elif project.status == "in_progress" %}
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">In Progress</span>
          {% elif project.status == "failed" %}
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">Failed</span>
          {% else %}
            <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-600">Created</span>
          {% endif %}
        </td>
        <td class="px-5 py-4 text-gray-500">{{ project.created_at }}</td>
        <td class="px-5 py-4 text-right">
          <a href="/projects/{{ project.id }}"
             class="text-indigo-600 hover:text-indigo-800 font-medium text-xs">
            View &rarr;
          </a>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% else %}
<!-- Empty state -->
<div class="border-2 border-dashed border-gray-200 rounded-xl p-16 text-center">
  <p class="text-gray-500 font-medium text-lg mb-1">No projects yet</p>
  <p class="text-gray-400 text-sm mb-6">Create your first cross-stitch pattern to get started.</p>
  <a href="/"
     class="bg-indigo-600 text-white px-5 py-2.5 rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors">
    Go to Home
  </a>
</div>
{% endif %}
